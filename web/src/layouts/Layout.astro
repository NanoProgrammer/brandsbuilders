---
export interface Props {
  seo: {
    title: string;
    description: string;
    keywords?: string;
    canonical?: string;
    ogImage?: string;
  };
}
const { seo } = Astro.props;

import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

/* Inline compiled Tailwind / global CSS */
import '../styles/global.css';
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="generator" content={Astro.generator} />

  <!-- SEO -->
  <title>{seo.title}</title>
  <meta name="description" content={seo.description} />
  {seo.keywords && <meta name="keywords" content={seo.keywords} />}
  {seo.canonical && <link rel="canonical" href={seo.canonical} />}

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content={seo.title} />
  <meta property="og:description" content={seo.description} />
  <meta property="og:url" content={seo.canonical || Astro.url} />
  {seo.ogImage && <meta property="og:image" content={seo.ogImage} />}

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Preload self-hosted font -->
  <link rel="preload"
        href="/fonts/Inter-Variable.woff2"
        as="font"
        type="font/woff2"
        crossorigin />


  <!-- Font-face -->
  <style is:inline>
    @font-face {
      font-family: 'Inter';
      src: url('/fonts/Inter-Variable.woff2') format('woff2');
      font-weight: 100 900;
      font-display: swap;
    }
    body { font-family: 'Inter', system-ui, sans-serif; }
  </style>

  <!-- Local Business Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context":"https://schema.org",
    "@type":"LocalBusiness",
    "name":"BrandsBuilders Agency",
    "url":"https://brandsbuilders.ca",
    "address":{
      "@type":"PostalAddress",
      "addressRegion":"AB",
      "addressCountry":"CA"
    },
    "areaServed":["Calgary","Edmonton","Airdrie"]
  })} />


  <!-- Favicon -->
  <link rel="icon" href="/icono.ico" />
</head>
<script>
  // Load Google Analytics only after first paint
  window.addEventListener('load', () => {
    const s = document.createElement('script');
    s.src = 'https://www.googletagmanager.com/gtag/js?id=G-WXEQQW4KHT';
    s.async = true;
    document.head.appendChild(s);

    s.onload = () => {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-WXEQQW4KHT');
      gtag('config', 'G-Y8Q1XJ8KRW');
    };
  });
</script>

<body class="gradient-bg text-white overflow-x-hidden">
  <Navigation />

  <main class="pt-20">
    <slot />
  </main>

  <Footer />
</body>
</html>
