---
/* src/pages/faq.astro */
import Layout from '../../layouts/Layout.astro';

const seo = {
  title: 'FAQ — Growth Partner, Web, Local SEO & Paid Media | BrandsBuilders Agency',
  description:
    'Straight answers about our Growth Partner model and our web, local SEO and paid media work. No public pricing; foundations first; form-first intake.',
  keywords:
    'FAQ, growth partner, web design Alberta, local SEO FAQ, paid media FAQ, BrandsBuilders',
  canonical: 'https://brandsbuilders.agency/faq'
};

const faqs = [
  {
    category: 'General',
    questions: [
      {
        question: 'What does BrandsBuilders actually do?',
        answer:
          'We operate one growth loop for owner-led SMBs: fast web pages that convert, pragmatic local SEO/GBP, and paid media with clear tracking. One accountable engagement (Growth Partner).'
      },
      {
        question: 'Where do you work?',
        answer:
          'Primarily Alberta (Calgary, Edmonton, Airdrie). We also support teams across Canada remotely when there’s a clear owner-operator and fast feedback loops.'
      },
      {
        question: 'How do you decide what to work on first?',
        answer:
          'We start with an audit: tracking/attribution sanity, page speed, accessibility, on-page SEO and demand capture. If landings aren’t ready, we fix foundations before turning up traffic.'
      }
    ]
  },
  {
    category: 'Engagement & Pricing',
    questions: [
      {
        question: 'Do you publish prices or packages?',
        answer:
          'No. We avoid price anchoring. Investment is aligned privately after the fit call and depends on scope, speed, and required channels. It’s a single engagement, not a menu of buy-now packages.'
      },
      {
        question: 'How are payments structured?',
        answer:
          'Setup is a one-time build/implementation (you own code/content on delivery). Ongoing operation runs on a fixed retainer. Performance components (lead targets or attributable revenue share) are added only when meaningful and measurable.'
      },
      {
        question: 'Can I hire you for only one thing (e.g., just Ads)?',
        answer:
          'Only if foundations meet our standards (tracking, landings, speed, accessibility). Otherwise we fix the basics first, then scale ads. We don’t take ad-only gigs that will waste your budget.'
      }
    ]
  },
  {
    category: 'Web & Conversion',
    questions: [
      {
        question: 'How long does a typical website take?',
        answer:
          'Most focused builds ship in 2–6 weeks depending on scope and content readiness. We work milestone-first with weekly check-ins; delays usually come from slow content/approvals.'
      },
      {
        question: 'Will my site be fast and accessible?',
        answer:
          'Yes. We target mobile Lighthouse ≥90 and WCAG 2.1 A/AA essentials on shipped templates, with trade-offs documented. Speed and clarity are non-negotiable.'
      },
      {
        question: 'Who hosts the site and owns the code?',
        answer:
          'You do. We deploy to client-owned accounts (Vercel/Netlify/Cloudflare/Shopify). You own domain, code and content from day one.'
      }
    ]
  },
  {
    category: 'Local SEO & GBP',
    questions: [
      {
        question: 'Do you guarantee rankings?',
        answer:
          'No one can. We focus on durable on-page improvements, GBP hygiene, reviews flow, and measurement. Most SMBs see meaningful movement in 30–90 days with fast publishing and steady reviews.'
      },
      {
        question: 'Do you manage Google Business Profile content?',
        answer:
          'We can operate posts/Q&A and create review prompts/templates. Some clients prefer internal posting with our playbooks—either model works.'
      },
      {
        question: 'What if I have multiple locations?',
        answer:
          'We design a location hub structure, per-location pages, and a scalable GBP process. Scope and investment adjust by location count.'
      }
    ]
  },
  {
    category: 'Paid Media',
    questions: [
      {
        question: 'How do you launch ads?',
        answer:
          'Audit & tracking sanity → keyword/angle research → build the initial structure → data phase at ~$50/day minimum to learn → active query mining and negative keywords. We then optimize bids, budgets and landings based on real data.'
      },
      {
        question: 'Do you do CRO and A/B tests as part of ads?',
        answer:
          'Yes. We run light A/B testing on copy/CTAs/sections and reduce friction on forms/checkout to lift ROAS/MER. Ads and CRO move together; otherwise you’re paying for clicks to a leaky page.'
      },
      {
        question: 'Will you scale ad spend quickly?',
        answer:
          'Only after the data phase shows signal with clean attribution. We scale deliberately, protect efficiency, and document what changed and why.'
      }
    ]
  },
  {
    category: 'Support & After Launch',
    questions: [
      {
        question: 'What support do I get?',
        answer:
          'Operation includes continuous optimization, issue logs, dashboards and insight reports (what changed, impact, next). Emergency fixes and small changes are handled via the ticket queue with defined SLAs.'
      },
      {
        question: 'What happens if something breaks?',
        answer:
          'We monitor, triage and fix critical issues. Bugs introduced by our work are covered; third-party/out-of-scope incidents are handled promptly with a clear change order.'
      }
    ]
  }
];
---

<Layout seo={seo}>
  <!-- Hero -->
  <section class="relative py-24 lg:py-32 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-slate-950 via-slate-900 to-violet-950"></div>

    <div class="container mx-auto px-6 relative z-10">
      <div class="text-center max-w-4xl mx-auto">
        <h1 class="text-5xl lg:text-7xl font-bold mb-8 bg-gradient-to-r from-white via-violet-200 to-fuchsia-200 bg-clip-text text-transparent">
          FAQ
        </h1>
        <p class="text-xl lg:text-2xl text-slate-300 mb-8 leading-relaxed">
          Straight answers about our Growth Partner model and how we run web, local SEO and paid media together.
        </p>

        <!-- Search Bar -->
        <div class="relative max-w-2xl mx-auto">
          <input
            type="text"
            placeholder="Search frequently asked questions..."
            class="w-full px-6 py-4 bg-slate-800/50 backdrop-blur-lg border border-slate-700 rounded-2xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"
            id="faq-search"
            aria-label="Search FAQs"
          />
          <svg class="absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-24 bg-slate-950 relative overflow-hidden">
    <div class="container mx-auto px-6 relative z-10">
      <div class="max-w-4xl mx-auto">
        {faqs.map((category, categoryIndex) => (
          <div class="mb-12">
            <!-- Category Header -->
            <div class="flex items-center gap-4 mb-8">
              <div class={`w-12 h-12 bg-gradient-to-br ${
                categoryIndex === 0 ? 'from-violet-500 to-purple-600'
                : categoryIndex === 1 ? 'from-fuchsia-500 to-pink-600'
                : categoryIndex === 2 ? 'from-indigo-500 to-blue-600'
                : categoryIndex === 3 ? 'from-emerald-500 to-teal-600'
                : 'from-orange-500 to-red-600'
              } rounded-xl flex items-center justify-center`}>
                <svg class="w-6 h-6 text-white" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <h2 class="text-3xl font-bold text-white">{category.category}</h2>
            </div>

            <!-- FAQ Items -->
            <div class="space-y-4">
              {category.questions.map((faq, index) => (
                <div class="faq-item glass rounded-2xl overflow-hidden border border-slate-800 bg-white/5">
                  <button
                    class="w-full px-8 py-6 text-left hover:bg-white/5 transition-colors focus:outline-none focus:bg-white/5"
                    onclick={`toggleFaq('faq-${categoryIndex}-${index}')`}
                    aria-expanded="false"
                    aria-controls={`faq-${categoryIndex}-${index}`}
                  >
                    <div class="flex items-center justify-between">
                      <h3 class="text-lg font-semibold text-white pr-8">{faq.question}</h3>
                      <svg
                        class="w-5 h-5 text-violet-400 transition-transform"
                        id={`icon-${categoryIndex}-${index}`}
                        aria-hidden="true"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                      </svg>
                    </div>
                  </button>
                  <div
                    class="hidden px-8 pb-6"
                    id={`faq-${categoryIndex}-${index}`}
                  >
                    <p class="text-slate-300 leading-relaxed">{faq.answer}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))}

        <!-- Still have questions CTA -->
        <div class="glass rounded-3xl p-8 lg:p-12 text-center mt-20 border border-slate-800 bg-white/5">
          <h3 class="text-3xl font-bold text-white mb-6">Still have questions?</h3>
          <p class="text-slate-300 text-lg mb-8 max-w-2xl mx-auto leading-relaxed">
            Quick form first. If it’s a fit, we’ll send a calendar link for a strategy call.
          </p>

          <a
            href="/contact#intake-section"
            class="group inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-violet-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-violet-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:shadow-violet-500/25"
          >
            Apply to work with us
            <svg class="w-5 h-5" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>

    <!-- Client JS: toggle + search (only FAQs, no CTA) -->
    <script type="module">
      function toggleFaq(faqId) {
        const faqContent = document.getElementById(faqId);
        const parts = faqId.split('-');
        const icon = document.getElementById('icon-' + parts[1] + '-' + parts[2]);
        if (!faqContent || !icon) return;

        const btn = faqContent.previousElementSibling;
        const hidden = faqContent.classList.contains('hidden');
        faqContent.classList.toggle('hidden', !hidden);
        icon.style.transform = hidden ? 'rotate(180deg)' : 'rotate(0deg)';
        if (btn && btn.setAttribute) btn.setAttribute('aria-expanded', hidden ? 'true' : 'false');
      }
      // expose for inline handler
      // @ts-ignore
      window.toggleFaq = toggleFaq;

      const searchInput = document.getElementById('faq-search');
      if (searchInput) {
        searchInput.addEventListener('input', (e) => {
          const term = e.target.value.trim().toLowerCase();
          const items = document.querySelectorAll('.faq-item'); // only FAQ cards
          items.forEach((item) => {
            const text = (item.textContent || '').toLowerCase();
            item.style.display = term === '' || text.includes(term) ? 'block' : 'none';
          });
        });
      }
    </script>
  </section>
</Layout>
