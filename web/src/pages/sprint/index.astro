---
import Layout from "../../layouts/Layout.astro";

const siteUrl = "https://brandsbuilders.agency";

const seo = {
  title: "Free 72-Hour Growth Sprint — Alberta | BrandsBuilders",
  description:
    "Apply for a free 72-hour sprint. We’ll review your website & Google presence and send a 2-minute Loom with quick wins — no credit card, Alberta only.",
  canonical: `${siteUrl}/sprint`,
  ogImage: `${siteUrl}/images/og/sprint-og.jpg`,
};
---

<Layout seo={seo}>
  <!-- HERO -->
  <section class="relative overflow-hidden bg-gradient-to-b from-slate-950 to-slate-900">
    <div class="pointer-events-none absolute inset-0" aria-hidden="true" role="presentation">
      <div class="absolute -top-24 -left-24 h-[28rem] w-[28rem] rounded-full bg-violet-600/20 blur-3xl"></div>
      <div class="absolute -bottom-24 -right-24 h-[28rem] w-[28rem] rounded-full bg-fuchsia-600/15 blur-3xl"></div>
    </div>

    <div class="container mx-auto px-6 relative z-10 py-16 md:py-20">
      <div class="max-w-3xl">
        <p class="inline-flex items-center gap-2 rounded-full border border-violet-500/30 bg-violet-500/10 px-3 py-1.5 text-violet-200 text-xs mb-4">
          <span class="inline-block h-1.5 w-1.5 rounded-full bg-violet-400"></span>
          Alberta • 100% Free • 9am–9pm daily
        </p>
        <h1 class="text-4xl md:text-5xl font-black leading-tight text-white mb-4">
          Free 72-Hour Growth Sprint
          <span class="block bg-gradient-to-r from-violet-300 via-fuchsia-300 to-indigo-300 bg-clip-text text-transparent">
            2-minute Loom with before → after opportunities
          </span>
        </h1>
        <p class="text-slate-300 text-base md:text-lg">
          Apply in 60 seconds. We’ll review public data (site + Google Business Profile) and send a quick video with high-impact fixes. No contracts. No card.
        </p>
      </div>

      <!-- Trust mini-badges -->
      <ul class="mt-6 grid sm:grid-cols-3 gap-3 max-w-3xl">
        <li class="flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-900/60 px-4 py-2 text-slate-300 text-sm">
          <svg class="w-4 h-4 text-emerald-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          No credit card
        </li>
        <li class="flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-900/60 px-4 py-2 text-slate-300 text-sm">
          <svg class="w-4 h-4 text-emerald-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          Alberta businesses only
        </li>
        <li class="flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-900/60 px-4 py-2 text-slate-300 text-sm">
          <svg class="w-4 h-4 text-emerald-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          Reply within 72 hours
        </li>
      </ul>
    </div>
  </section>

  <!-- ULTRA-SIMPLE FORM (Netlify) -->
  <section id="apply" class="py-16 bg-slate-950">
    <div class="container mx-auto px-6">
      <div class="max-w-2xl mx-auto">
        <form
          name="sprint-apply"
          method="POST"
          action="/sprint/thanks"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="bg-gray-900/50 border border-gray-800 backdrop-blur-sm rounded-3xl p-8"
          novalidate
        >
          <!-- Required by Netlify -->
          <input type="hidden" name="form-name" value="sprint-apply" />
          <!-- Honeypot -->
          <p class="hidden"><label>Don’t fill this out: <input name="bot-field" /></label></p>
          <!-- Extra trap -->
          <input type="text" name="trap_url" tabindex="-1" autocomplete="off" class="hidden" aria-hidden="true" />

          <!-- 1 row: Business + Website -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="business_name" class="block text-sm font-medium text-gray-300 mb-2">Business name *</label>
              <input
                id="business_name"
                name="business_name"
                required
                class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors"
                placeholder="Your company"
              />
              <div class="text-red-400 text-sm mt-1" data-error-for="business_name" aria-live="polite"></div>
            </div>
            <div>
              <label for="site_url" class="block text-sm font-medium text-gray-300 mb-2">Website URL *</label>
              <input
                id="site_url"
                name="site_url"
                type="url"
                required
                pattern="^https?:\\/\\/.*"
                class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors"
                placeholder="https://yourwebsite.com"
              />
              <div class="text-red-400 text-sm mt-1" data-error-for="site_url" aria-live="polite"></div>
            </div>
          </div>

          <!-- 2 row: City + Goal (select to reduce friction) -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="city" class="block text-sm font-medium text-gray-300 mb-2">City (Alberta) *</label>
              <select
                id="city"
                name="city"
                required
                class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors"
              >
                <option value="">Select your city</option>
                <option value="Calgary">Calgary</option>
                <option value="Edmonton">Edmonton</option>
                <option value="Airdrie">Airdrie</option>
                <option value="Lethbridge">Lethbridge</option>
                <option value="Red Deer">Red Deer</option>
                <option value="Other (Alberta)">Other (Alberta)</option>
              </select>
              <div class="text-red-400 text-sm mt-1" data-error-for="city" aria-live="polite"></div>
            </div>

            <div>
              <label for="main_goal" class="block text-sm font-medium text-gray-300 mb-2">Main goal this month *</label>
              <select
                id="main_goal"
                name="main_goal"
                required
                class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors"
              >
                <option value="">Choose one</option>
                <option value="bookings">More bookings</option>
                <option value="calls">More calls</option>
                <option value="sales">More online sales</option>
              </select>
              <div class="text-red-400 text-sm mt-1" data-error-for="main_goal" aria-live="polite"></div>
            </div>
          </div>

          <!-- 3 row: Email only -->
          <div class="mb-6">
            <label for="email" class="block text-sm font-medium text-gray-300 mb-2">Email *</label>
            <input
              id="email"
              name="email"
              type="email"
              required
              pattern="^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"
              class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors"
              placeholder="you@company.com"
            />
            <div class="text-red-400 text-sm mt-1" data-error-for="email" aria-live="polite"></div>
          </div>

          <!-- Single consent -->
          <div class="mb-8">
            <label class="flex items-start gap-3">
              <input
                type="checkbox"
                id="consent"
                name="consent"
                required
                class="mt-1 w-4 h-4 text-violet-600 border-gray-600 rounded focus:ring-violet-500 focus:ring-2 bg-gray-800"
              />
              <span class="text-sm text-gray-400 leading-relaxed">
                I agree to receive a free 2-minute Loom using public information (website & Google Business Profile) and to be contacted about the results. PIPEDA-aware; opt-out anytime. *
              </span>
            </label>
            <div class="text-red-400 text-sm mt-1" data-error-for="consent" aria-live="polite"></div>
          </div>

          <!-- CTA -->
          <button
            type="submit"
            class="w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-bold py-4 px-8 rounded-xl hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-violet-500/25 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            Get My Free Loom in 72 Hours
          </button>

          <p class="text-xs text-slate-500 mt-3">Typical turnaround: 72 hours • Hours: 9am–9pm daily • Alberta only</p>
        </form>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS (brief, reassurance) -->
  <section class="py-14 bg-slate-900">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-3 gap-6">
        <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">1) Apply (60s)</h3>
          <p class="text-slate-300 text-sm">Tell us your business, URL, city and goal. That’s it.</p>
        </article>
        <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">2) We Review</h3>
          <p class="text-slate-300 text-sm">We check speed, clarity, and Google visibility using public data.</p>
        </article>
        <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">3) 2-min Loom</h3>
          <p class="text-slate-300 text-sm">You get a short video with before → after opportunities and next steps.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- JSON-LD -->
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebPage",
          url: `${siteUrl}/sprint`,
          name: "Free 72-Hour Growth Sprint | BrandsBuilders Agency",
          description: seo.description,
          inLanguage: "en-CA",
          breadcrumb: {
            "@type": "BreadcrumbList",
            itemListElement: [
              { "@type": "ListItem", position: 1, name: "Home", item: siteUrl },
              { "@type": "ListItem", position: 2, name: "Sprint", item: `${siteUrl}/sprint` }
            ]
          },
          isPartOf: { "@type": "WebSite", url: siteUrl }
        },
        {
          "@type": "WebApplication",
          name: "Free 72-Hour Growth Sprint — Application",
          url: `${siteUrl}/sprint`,
          applicationCategory: "BusinessApplication",
          description: "Apply for a free 72-hour sprint. We review your web & Google presence and send a 2-minute Loom with opportunities."
        },
        {
          "@type": "Offer",
          url: `${siteUrl}/sprint`,
          price: 0,
          priceCurrency: "CAD",
          availability: "https://schema.org/InStock"
        }
      ]
    })}
  </script>

  <!-- Minimal inline validation -->
  <script is:inline>
    (function () {
      var form = document.querySelector('form[name="sprint-apply"]');
      if (!form) return;

      function msg(elOrName, text) {
        var el = typeof elOrName === 'string' ? form.elements[elOrName] : elOrName;
        var slot = form.querySelector('[data-error-for="' + (el.name || elOrName) + '"]');
        if (slot) slot.textContent = text || '';
      }

      var validators = {
        business_name: el => el.value.trim() ? '' : 'Please enter your business name.',
        site_url: el => {
          if (!el.value.trim()) return 'Please enter your website URL.';
          return /^https?:\/\//i.test(el.value.trim()) ? '' : 'URL must start with http:// or https://';
        },
        city: el => el.value ? '' : 'Please select your city.',
        main_goal: el => el.value ? '' : 'Please select a goal.',
        email: el => {
          if (!el.value.trim()) return 'Please enter your email.';
          return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(el.value) ? '' : 'Enter a valid email.';
        },
        consent: el => el.checked ? '' : 'Consent is required.'
      };

      function validateAll() {
        var fields = ['business_name','site_url','city','main_goal','email','consent'];
        var bad = false;
        fields.forEach(function (name) {
          var el = form.elements[name];
          var err = validators[name](el);
          msg(el, err);
          if (err) bad = true;
        });
        return !bad;
      }

      form.addEventListener('input', function (e) {
        var t = e.target;
        if (validators[t.name]) msg(t, validators[t.name](t));
      });
      form.addEventListener('change', function (e) {
        var t = e.target;
        if (validators[t.name]) msg(t, validators[t.name](t));
      });
      form.addEventListener('submit', function (e) {
        if (!validateAll()) e.preventDefault();
      });
    })();
  </script>
</Layout>
