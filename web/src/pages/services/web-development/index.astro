---
// src/pages/services/web-design.astro
import Layout from "../../../layouts/Layout.astro";

const siteUrl = "https://brandsbuilders.agency";

const seo = {
  title: "Web Design & Development in Alberta | Fast, Accessible, Conversion-Focused",
  description:
    "We build lean, accessible, high-performance websites as part of our Growth Partner model — where web and SEO work together to drive revenue. Entry via Free 72-Hour Growth Sprint.",
  canonical: `${siteUrl}/services/web-design`,
  ogImage: `${siteUrl}/images/og/web-design-og.jpg`,
};

// Small feature lists (no prices, no packages)
const webHighlights = [
  "Astro/Next.js builds focused on speed and Core Web Vitals",
  "Accessible-by-default components (WCAG 2.1 A/AA essentials)",
  "Technical SEO foundations (semantic HTML, metas, sitemap/robots)",
  "Tracking wired for decisions (GA4 + events, form health checks)",
  "Editor-friendly CMS or content collections (roles, drafts, approvals)"
];

const duo = [
  {
    title: "Web",
    copy:
      "A fast, trustworthy website is the conversion backbone. We ship lean templates, clear IA and CRO-first sections.",
    points: ["CWV: LCP/CLS/TBT targets", "Forms & booking logic", "Schema & internal links"]
  },
  {
    title: "SEO",
    copy:
      "On-page and content systems to capture intent — local packs, categories, FAQs — all measured in Search Console.",
    points: ["LocalBusiness/schema", "Editorial models (Blog/Case/FAQ)", "Query mapping & interlinking"]
  }
];

const process = [
  { name: "Discovery → Plan", text: "ICP, offers, jobs-to-be-done, site architecture and success metrics." },
  { name: "Design → Build", text: "Component system, copy frames, templates, accessibility and performance passes." },
  { name: "Wire → Measure", text: "GA4 events, GSC, form QA; ship and validate CWV on key pages." },
  { name: "Iterate → Grow", text: "CRO tweaks, content cadence, and SEO feedback loops." },
];
---

<Layout seo={seo}>
  <!-- HERO -->
  <section class="relative overflow-hidden bg-gradient-to-b from-slate-950 to-slate-900 min-h-[70vh] max-h-[90vh] flex items-center">
    <div class="pointer-events-none absolute inset-0" aria-hidden="true" role="presentation">
      <div class="absolute -top-24 -left-24 h-[30rem] w-[30rem] rounded-full bg-violet-600/20 blur-3xl"></div>
      <div class="absolute -bottom-24 -right-24 h-[30rem] w-[30rem] rounded-full bg-fuchsia-600/15 blur-3xl"></div>
    </div>
    <div class="container mx-auto px-6 relative z-10 py-28 md:py-40">
      <div class="max-w-4xl">
        <p class="inline-flex items-center gap-2 rounded-full border border-violet-500/30 bg-violet-500/10 px-3 py-1.5 text-violet-200 text-xs mb-4">
          <span class="inline-block h-1.5 w-1.5 rounded-full bg-violet-400"></span>
          Web Design • Development • Performance • 9am–9pm daily
        </p>
        <h1 class="text-4xl md:text-5xl font-black leading-tight text-white mb-4">
          Web Design & Development
          <span class="block bg-gradient-to-r from-violet-300 via-fuchsia-300 to-indigo-300 bg-clip-text text-transparent">
            fast, accessible, built to convert
          </span>
        </h1>
        <p class="text-slate-300 text-base md:text-lg max-w-2xl">
          We build and operate your site inside one accountable engagement — the Growth Partner model — where
          web and SEO work together to grow revenue. Start with a free, no-risk 72-hour sprint.
        </p>
        <div class="flex flex-wrap gap-3 mt-6">
          <a href="#why" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 px-5 py-3 font-semibold text-white">
            How it works
          </a>
          <a href="#free-sprint" class="inline-flex items-center gap-2 rounded-xl border border-slate-700 px-5 py-3 text-slate-200 hover:border-violet-500 hover:bg-violet-500/10 transition">
            Apply for Free 72-Hour Sprint
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY WEB INSIDE GROWTH PARTNER -->
  <section id="why" class="py-16 bg-slate-950">
    <div class="container mx-auto px-6">
      <header class="mb-8">
        <h2 class="text-3xl lg:text-4xl font-bold text-white">Web is one piece of the system</h2>
        <p class="text-slate-400 max-w-3xl">
          A beautiful website alone won’t move the P&amp;L. We ship web as part of a growth system that also handles
          demand capture (SEO), with measurement tied to revenue.
        </p>
      </header>

      <div class="grid md:grid-cols-2 gap-6 lg:gap-8">
        {duo.map((t) => (
          <article class="rounded-2xl border border-slate-800 bg-gradient-to-br from-slate-900/80 to-slate-800/70 p-6">
            <h3 class="text-white font-bold text-lg mb-2">{t.title}</h3>
            <p class="text-slate-300 text-sm mb-4">{t.copy}</p>
            <ul class="space-y-2 text-slate-300 text-sm">
              {t.points.map((p) => (
                <li class="flex gap-2">
                  <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                  {p}
                </li>
              ))}
            </ul>
          </article>
        ))}
      </div>

      <!-- Quick highlight list -->
      <div class="mt-10 rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
        <h3 class="text-white font-semibold mb-2">What you can expect</h3>
        <ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3 text-slate-300 text-sm">
          {webHighlights.map((h) => (
            <li class="rounded-lg border border-slate-800 bg-slate-950/50 px-3 py-2 flex items-center gap-2">
              <svg class="w-4 h-4 text-fuchsia-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              <span>{h}</span>
            </li>
          ))}
        </ul>
        <p class="text-slate-500 text-xs mt-3">
          Investment and scope are aligned privately after we review your application.
        </p>
      </div>
    </div>
  </section>

  <!-- PROCESS -->
  <section id="process" class="py-16 bg-slate-900">
    <div class="container mx-auto px-6">
      <header class="mb-8">
        <h2 class="text-3xl lg:text-4xl font-bold text-white">Process & operating cadence</h2>
        <p class="text-slate-400 max-w-3xl">
          Clear milestones, shipped fast. We document trade-offs and keep you in the loop with practical reporting.
        </p>
      </header>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {process.map((p, i) => (
          <article class="rounded-2xl border border-slate-800 bg-slate-950/60 p-6">
            <div class="text-sm text-slate-400 mb-1">Step {i + 1}</div>
            <h3 class="text-white font-semibold mb-2">{p.name}</h3>
            <p class="text-slate-300 text-sm">{p.text}</p>
          </article>
        ))}
      </div>
      <div class="mt-8">
        <a href="#free-sprint" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 px-5 py-3 font-semibold text-white">
          Apply — Free 72-Hour Sprint
        </a>
      </div>
    </div>
  </section>

  <!-- GUARANTEES -->
  <section class="py-16 bg-slate-950">
    <div class="container mx-auto px-6">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-6">What we guarantee</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Performance</h3>
          <p class="text-slate-300 text-sm">Mobile Lighthouse ≥90 and LCP less than 2.5s on new pages (trade-offs documented).</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Accessibility</h3>
          <p class="text-slate-300 text-sm">WCAG 2.1 A/AA essentials on shipped templates.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Ownership</h3>
          <p class="text-slate-300 text-sm">You own domain, code and content from day one.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Warranty</h3>
          <p class="text-slate-300 text-sm">30-day bug fixes; 60-day coverage for critical lead-flow blockers.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-16 bg-slate-900">
    <div class="container mx-auto px-6">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-6">Web Design FAQ</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="rounded-2xl border border-slate-800 bg-slate-950/60 p-6">
          <h3 class="text-white font-semibold mb-2">Do you sell web as a standalone?</h3>
          <p class="text-slate-300 text-sm">
            No. Web is integrated into our Growth Partner model so it actually drives revenue alongside SEO.
          </p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-950/60 p-6">
          <h3 class="text-white font-semibold mb-2">What stack do you use?</h3>
          <p class="text-slate-300 text-sm">Astro or Next for sites. We choose based on speed, editing needs and integrations.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-950/60 p-6">
          <h3 class="text-white font-semibold mb-2">Who hosts the site?</h3>
          <p class="text-slate-300 text-sm">Client-owned accounts (Vercel/Netlify/Cloudflare). We connect domains and configure SSL.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-950/60 p-6">
          <h3 class="text-white font-semibold mb-2">How are timelines set?</h3>
          <p class="text-slate-300 text-sm">Milestones with weekly check-ins. Delays are typically content/feedback; we document trade-offs.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FREE SPRINT (Netlify ready) -->
  <section id="free-sprint" class="py-16 bg-gradient-to-b from-gray-950 to-gray-900">
    <div class="container mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl lg:text-5xl font-bold mb-6 text-white">
          Apply for your <span class="bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent">Free 72-Hour Growth Sprint</span>
        </h2>
        <p class="text-gray-400 text-lg max-w-2xl mx-auto">
          We’ll review your website & Google presence and send a 2-minute Loom with quick wins in 72 hours.
          <span class="text-slate-300"> Alberta only. No credit card.</span>
        </p>
      </div>

      <div class="max-w-2xl mx-auto">
        <form
          name="sprint-apply-web"
          method="POST"
          action="/sprint/thanks"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="bg-gray-900/50 border border-gray-800 backdrop-blur-sm rounded-3xl p-8"
          novalidate
        >
          <input type="hidden" name="form-name" value="sprint-apply-web" />
          <p class="hidden"><label>Don’t fill this out if you’re human: <input name="bot-field" /></label></p>
          <input type="text" name="trap_url" tabindex="-1" autocomplete="off" class="hidden" aria-hidden="true" />

          <!-- Business + Website -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="business_name" class="block text-sm font-medium text-gray-300 mb-2">Business name *</label>
              <input id="business_name" name="business_name" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="Your company name" />
              <div class="text-red-400 text-sm mt-1" data-error-for="business_name" aria-live="polite"></div>
            </div>
            <div>
              <label for="site_url" class="block text-sm font-medium text-gray-300 mb-2">Website URL *</label>
              <input id="site_url" name="site_url" type="url" required pattern="^https?:\\/\\/.*" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="https://yourwebsite.com" />
              <div class="text-red-400 text-sm mt-1" data-error-for="site_url" aria-live="polite"></div>
            </div>
          </div>

          <!-- City -->
          <div class="mb-6">
            <label for="city" class="block text-sm font-medium text-gray-300 mb-2">City (Alberta) *</label>
            <select id="city" name="city" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors">
              <option value="">Select your city</option>
              <option value="Calgary">Calgary</option>
              <option value="Edmonton">Edmonton</option>
              <option value="Airdrie">Airdrie</option>
              <option value="Lethbridge">Lethbridge</option>
              <option value="Red Deer">Red Deer</option>
              <option value="Other (Alberta)">Other (Alberta)</option>
            </select>
            <div class="text-red-400 text-sm mt-1" data-error-for="city" aria-live="polite"></div>
          </div>

          <!-- Main goal -->
          <div class="mb-6">
            <label for="main_goal" class="block text-sm font-medium text-gray-300 mb-2">Main goal this month *</label>
            <select id="main_goal" name="main_goal" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors">
              <option value="">Choose one</option>
              <option value="bookings">More bookings</option>
              <option value="calls">More calls</option>
              <option value="sales">More online sales</option>
            </select>
            <div class="text-red-400 text-sm mt-1" data-error-for="main_goal" aria-live="polite"></div>
          </div>

          <!-- GBP + Platform -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <span class="block text-sm font-medium text-gray-300 mb-2">Google Business Profile *</span>
              <div class="flex items-center gap-6 text-gray-300">
                <label class="inline-flex items-center gap-2"><input type="radio" name="has_gbp" value="Yes" required class="text-violet-600 focus:ring-violet-500" /><span>Yes</span></label>
                <label class="inline-flex items-center gap-2"><input type="radio" name="has_gbp" value="No" required class="text-violet-600 focus:ring-violet-500" /><span>No</span></label>
              </div>
              <div class="text-red-400 text-sm mt-1" data-error-for="has_gbp" aria-live="polite"></div>
            </div>
            <div>
              <label for="platform" class="block text-sm font-medium text-gray-300 mb-2">Website platform *</label>
              <select id="platform" name="platform" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors">
                <option value="">Select platform</option>
                <option value="Wix">Wix</option>
                <option value="Squarespace">Squarespace</option>
                <option value="Shopify">Shopify</option>
                <option value="WordPress">WordPress</option>
                <option value="Custom Code">Custom Code</option>
                <option value="Not sure">Not sure</option>
              </select>
              <div class="text-red-400 text-sm mt-1" data-error-for="platform" aria-live="polite"></div>
            </div>
          </div>

          <!-- Contact preference -->
          <div class="mb-6">
            <span class="block text-sm font-medium text-gray-300 mb-2">Preferred contact *</span>
            <div class="flex flex-wrap items-center gap-6 text-gray-300">
              <label class="inline-flex items-center gap-2"><input type="radio" name="contact_pref" value="Email" required class="text-violet-600 focus:ring-violet-500" /><span>Email</span></label>
              <label class="inline-flex items-center gap-2"><input type="radio" name="contact_pref" value="Text" required class="text-violet-600 focus:ring-violet-500" /><span>Text</span></label>
              <label class="inline-flex items-center gap-2"><input type="radio" name="contact_pref" value="Call" required class="text-violet-600 focus:ring-violet-500" /><span>Call</span></label>
            </div>
            <div class="text-red-400 text-sm mt-1" data-error-for="contact_pref" aria-live="polite"></div>
          </div>

          <!-- Email + Phone -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="email2" class="block text-sm font-medium text-gray-300 mb-2">Email *</label>
              <input id="email2" name="email" type="email" required pattern="^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="you@company.com" />
              <div class="text-red-400 text-sm mt-1" data-error-for="email" aria-live="polite"></div>
            </div>
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-300 mb-2">Phone (optional)</label>
              <input id="phone" name="phone" type="tel" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="+1 403 555 0123" />
            </div>
          </div>

          <!-- Consent (Loom + contact) -->
          <div class="mb-6">
            <label class="flex items-start gap-3">
              <input type="checkbox" id="consent_looom" name="consent_looom" required class="mt-1 w-4 h-4 text-violet-600 border-gray-600 rounded focus:ring-violet-500 focus:ring-2 bg-gray-800" />
              <span class="text-sm text-gray-400 leading-relaxed">
                I agree to receive a <strong>free 2-minute Loom</strong> using public information from my website and Google Business Profile. No account access is requested at this stage.
              </span>
            </label>
            <div class="text-red-400 text-sm mt-1" data-error-for="consent_looom" aria-live="polite"></div>
          </div>

          <div class="mb-8">
            <label class="flex items-start gap-3">
              <input type="checkbox" id="consent_contact" name="consent_contact" required class="mt-1 w-4 h-4 text-violet-600 border-gray-600 rounded focus:ring-violet-500 focus:ring-2 bg-gray-800" />
              <span class="text-sm text-gray-400 leading-relaxed">
                I agree to be contacted about my Sprint results (email, text or call). PIPEDA-aware: minimal data; opt-out anytime.
              </span>
            </label>
            <div class="text-red-400 text-sm mt-1" data-error-for="consent_contact" aria-live="polite"></div>
          </div>

          <button type="submit" class="w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-bold py-4 px-8 rounded-xl hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-violet-500/25 disabled:opacity-50 disabled:cursor-not-allowed">
            Start My Free 72-Hour Sprint
          </button>

          <p class="text-xs text-slate-500 mt-3">Typical turnaround: 2–3 business days • Alberta businesses only</p>
        </form>
      </div>
    </div>
  </section>

  <!-- JSON-LD -->
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebPage",
          url: `${siteUrl}/services/web-design`,
          name: "Web Design & Development | BrandsBuilders Agency",
          description: seo.description,
          inLanguage: "en-CA",
          breadcrumb: {
            "@type": "BreadcrumbList",
            itemListElement: [
              { "@type": "ListItem", position: 1, name: "Home", item: siteUrl },
              { "@type": "ListItem", position: 2, name: "Services", item: `${siteUrl}/services` },
              { "@type": "ListItem", position: 3, name: "Web Design", item: `${siteUrl}/services/web-design` }
            ]
          },
          isPartOf: { "@type": "WebSite", url: siteUrl }
        },
        {
          "@type": "Service",
          name: "Web Design & Development (within Growth Partner)",
          areaServed: [
            { "@type": "AdministrativeArea", name: "Alberta" },
            { "@type": "City", name: "Calgary" },
            { "@type": "City", name: "Edmonton" }
          ],
          provider: { "@type": "Organization", name: "BrandsBuilders Agency", url: siteUrl },
          description: "We integrate Web and SEO into one operating model focused on revenue. No à la carte packages.",
          offers: { "@type": "Offer", availability: "https://schema.org/InStock" }
        },
        {
          "@type": "WebApplication",
          name: "Free 72-Hour Growth Sprint — Application",
          url: `${siteUrl}/services/web-design#free-sprint`,
          description: "Free audit sprint for Alberta owner-led SMBs. 2-minute Loom with opportunities delivered within 72 hours.",
          applicationCategory: "BusinessApplication"
        }
      ]
    })}
  </script>

  <!-- Minimal inline validation -->
  <script is:inline>
    (function () {
      var form = document.querySelector('form[name="sprint-apply-web"]');
      if (!form) return;

      function setErr(elOrName, msg) {
        var el = typeof elOrName === 'string' ? form.querySelector('[name="'+elOrName+'"]') : elOrName;
        var slot = el ? form.querySelector('[data-error-for="' + (el.name || elOrName) + '"]') : null;
        if (slot) slot.textContent = msg || '';
      }

      var validators = {
        business_name: el => el.value.trim() ? '' : 'Please enter your business name.',
        site_url: el => {
          if (!el.value.trim()) return 'Please enter your website URL.';
          return /^https?:\/\//i.test(el.value.trim()) ? '' : 'URL must start with http:// or https://';
        },
        city: el => el.value ? '' : 'Please select your city.',
        main_goal: el => el.value ? '' : 'Please select your main goal.',
        has_gbp_group: () => form.querySelector('input[name="has_gbp"]:checked') ? '' : 'Please select an option.',
        platform: el => el.value ? '' : 'Please select your platform.',
        contact_pref_group: () => form.querySelector('input[name="contact_pref"]:checked') ? '' : 'Please select a contact method.',
        email: el => {
          if (!el.value.trim()) return 'Please enter your email.';
          return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(el.value) ? '' : 'Enter a valid email address.';
        },
        consent_looom: el => el.checked ? '' : 'Consent to receive the Loom is required.',
        consent_contact: el => el.checked ? '' : 'Contact permission is required.'
      };

      function validateAll() {
        var hasErrors = false;
        ['business_name','site_url','city','main_goal','platform','email','consent_looom','consent_contact'].forEach(function(name){
          var el = form.elements[name];
          var msg = validators[name](el);
          setErr(el, msg);
          if (msg) hasErrors = true;
        });
        var msg1 = validators.has_gbp_group();
        setErr('has_gbp', msg1);
        if (msg1) hasErrors = true;
        var msg2 = validators.contact_pref_group();
        setErr('contact_pref', msg2);
        if (msg2) hasErrors = true;
        return !hasErrors;
      }

      form.addEventListener('input', function(e){
        var t = e.target;
        if (!t.name) return;
        if (t.name === 'has_gbp' || t.name === 'contact_pref') {
          var groupMsg = (t.name === 'has_gbp') ? validators.has_gbp_group() : validators.contact_pref_group();
          setErr(t.name, groupMsg);
        } else if (validators[t.name]) {
          setErr(t, validators[t.name](t));
        }
      });

      form.addEventListener('change', function(e){
        var t = e.target;
        if (t.name === 'has_gbp' || t.name === 'contact_pref') {
          var groupMsg = (t.name === 'has_gbp') ? validators.has_gbp_group() : validators.contact_pref_group();
          setErr(t.name, groupMsg);
        }
      });

      form.addEventListener('submit', function (e) {
        if (!validateAll()) e.preventDefault();
      });
    })();
  </script>
</Layout>
