---
// src/pages/services/local-seo.astro
import Layout from "../../../layouts/Layout.astro";

const siteUrl = "https://brandsbuilders.agency";

const seo = {
  title: "Local SEO & Google Business Profile | Growth Partner Capability",
  description:
    "Local SEO delivered only within our Growth Partner model. We integrate web, GBP, reviews, on-page and measurement to turn nearby searches into revenue.",
  canonical: `${siteUrl}/services/local-seo`,
  ogImage: `${siteUrl}/images/og/local-seo-og.jpg`,
};

// Capability bullets (not packages, not purchasable)
const capability = [
  "On-page local optimization for key service & location pages (titles, metas, H1–H3, internal links, contact blocks).",
  "LocalBusiness / FAQ schema where relevant; breadcrumb & Article schema on content.",
  "Google Business Profile hygiene & optimization: categories, services, attributes, hours, UTM tracking.",
  "Reviews engine: short asks, QR/link cards, response templates, team cadence.",
  "Search Console targets, GA4 goals and events for calls, forms and bookings.",
  "Core Web Vitals sanity and quick wins to protect local conversion on mobile."
];

// Example 90-day operating plan (illustrative, not a package)
const plan90 = [
  { phase: "Weeks 1–2", items: ["Technical & local audit (site + GBP)", "Keyword/intent map (services & locations)", "Fix crawl/index/canonical basics", "Define review + post cadence"] },
  { phase: "Weeks 3–6", items: ["Ship on-page updates for top services/locations", "Publish 2–3 FAQs per page with schema", "GBP pass: photos, categories, services, posts", "Implement call/form tracking and dashboards"] },
  { phase: "Weeks 7–12", items: ["Expand to secondary locations/services", "Light A/B on headline/CTA where volume allows", "Review growth levers & blockers, adjust cadence", "Prep next 90-day roadmap"] }
];

// What good fit looks like (aligns with your ICP)
const goodFit = [
  "Owner-led SMB with 2–50 employees and capacity to take more demand in 30–90 days.",
  "Service lines with ≥ $150–$300 value per appointment, or e-commerce with healthy AOV.",
  "Visible digital gap (DIY site, weak GBP/reviews, slow pages) and willingness to fix it fast.",
  "Clear decision-maker, content availability (photos/reviews), and quick approvals."
];
---

<Layout seo={seo}>
  <!-- HERO -->
  <section class="relative overflow-hidden bg-gradient-to-b from-slate-950 to-slate-900">
    <div class="pointer-events-none absolute inset-0" aria-hidden="true" role="presentation">
      <div class="absolute -top-24 -left-24 h-[30rem] w-[30rem] rounded-full bg-violet-600/20 blur-3xl"></div>
      <div class="absolute -bottom-24 -right-24 h-[30rem] w-[30rem] rounded-full bg-fuchsia-600/15 blur-3xl"></div>
    </div>

    <div class="container mx-auto px-6 relative z-10 py-16 md:py-20">
      <div class="max-w-4xl">
        <p class="inline-flex items-center gap-2 rounded-full border border-violet-500/30 bg-violet-500/10 px-3 py-1.5 text-violet-200 text-xs mb-4">
          <span class="inline-block h-1.5 w-1.5 rounded-full bg-violet-400"></span>
          Capability within Growth Partner — not sold standalone
        </p>
        <h1 class="text-4xl md:text-5xl font-black leading-tight text-white mb-4">
          Local SEO &amp; Google Business Profile
          <span class="block bg-gradient-to-r from-violet-300 via-fuchsia-300 to-indigo-300 bg-clip-text text-transparent">
            turn nearby searches into booked revenue
          </span>
        </h1>
        <p class="text-slate-300 text-base md:text-lg max-w-2xl">
          We operate Local SEO only as part of our <strong>Growth Partner</strong> engagement. That means web, GBP,
          reviews, content, and measurement ship together under one plan—no à la carte menus, no “buy now” cards.
        </p>

        <div class="flex flex-wrap gap-3 mt-6">
          <a href="#capabilities" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 px-5 py-3 font-semibold text-white">
            See how we improve local visibility
          </a>
          <a href="#intake-section" class="inline-flex items-center gap-2 rounded-xl border border-slate-700 px-5 py-3 text-slate-200 hover:border-violet-500 hover:bg-violet-500/10 transition">
            Apply for Growth Partner
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CAPABILITIES (NOT packages) -->
  <section id="capabilities" class="py-16 bg-slate-950">
    <div class="container mx-auto px-6">
      <header class="mb-8">
        <h2 class="text-3xl lg:text-4xl font-bold text-white">What we actually do</h2>
        <p class="text-slate-400">Integrated Local SEO work streams delivered inside a single Growth Partner engagement.</p>
      </header>

      <div class="grid md:grid-cols-2 gap-6">
        <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-3">Core capabilities</h3>
          <ul class="space-y-2 text-slate-300 text-sm">
            {capability.map((c) => (
              <li class="flex gap-2">
                <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                {c}
              </li>
            ))}
          </ul>
        </article>

        <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-3">Signals we measure</h3>
          <ul class="space-y-2 text-slate-300 text-sm">
            <li class="flex gap-2">
              <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
              GBP actions (calls, direction requests, website visits)
            </li>
            <li class="flex gap-2">
              <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
              Local impressions and discovery vs. branded queries
            </li>
            <li class="flex gap-2">
              <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
              Conversion rate from service/location pages (forms, calls, bookings)
            </li>
            <li class="flex gap-2">
              <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
              Review velocity and rating trend
            </li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <!-- 90-DAY PLAN (Illustrative, not selectable) -->
  <section class="py-16 bg-slate-900">
    <div class="container mx-auto px-6">
      <header class="mb-8">
        <h2 class="text-3xl lg:text-4xl font-bold text-white">Illustrative 90-day plan</h2>
        <p class="text-slate-400">Actual roadmap depends on your capacity, approvals and baseline.</p>
      </header>

      <div class="grid md:grid-cols-3 gap-6">
        {plan90.map((p) => (
          <article class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
            <h3 class="text-white font-semibold mb-3">{p.phase}</h3>
            <ul class="space-y-2 text-slate-300 text-sm">
              {p.items.map((i) => (
                <li class="flex gap-2">
                  <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                  {i}
                </li>
              ))}
            </ul>
          </article>
        ))}
      </div>

      <div class="mt-8">
        <a href="#intake-section" class="inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 px-5 py-3 font-semibold text-white">
          Apply for Growth Partner
        </a>
      </div>
    </div>
  </section>

  <!-- FIT (aligns with ICP) -->
  <section class="py-16 bg-slate-950">
    <div class="container mx-auto px-6">
      <header class="mb-8">
        <h2 class="text-3xl lg:text-4xl font-bold text-white">Who this is for</h2>
        <p class="text-slate-400">We work with a small number of owner-led brands where Local SEO moves revenue quickly.</p>
      </header>

      <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
        <ul class="grid md:grid-cols-2 gap-3 text-slate-300 text-sm">
          {goodFit.map((g) => (
            <li class="flex gap-2">
              <svg class="w-4 h-4 text-violet-400" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
              {g}
            </li>
          ))}
        </ul>
      </div>
    </div>
  </section>

  <!-- GUARANTEES -->
  <section class="py-16 bg-slate-900">
    <div class="container mx-auto px-6">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-6">What we guarantee</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Performance</h3>
          <p class="text-slate-300 text-sm">Mobile Lighthouse ≥ 90 and LCP &lt; 2.5s on new pages (trade-offs documented).</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Accessibility</h3>
          <p class="text-slate-300 text-sm">WCAG 2.1 A/AA essentials on shipped templates.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Ownership</h3>
          <p class="text-slate-300 text-sm">You own domain, code and content from day one.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-5">
          <h3 class="text-white font-semibold mb-1">Warranty</h3>
          <p class="text-slate-300 text-sm">30-day bug fixes; 60-day coverage for critical lead-flow blockers.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-16 bg-slate-950">
    <div class="container mx-auto px-6">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-6">Local SEO FAQ</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">Is this a standalone service?</h3>
          <p class="text-slate-300 text-sm">No. Local SEO is delivered inside our Growth Partner model so web, GBP, reviews and analytics move together.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">Do you guarantee rankings?</h3>
          <p class="text-slate-300 text-sm">No one can. We focus on durable inputs (on-page, GBP, reviews, CWV) that improve qualified traffic and conversions.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">How fast will I see results?</h3>
          <p class="text-slate-300 text-sm">Many SMBs see movement in 30–90 days when we can ship changes and collect reviews consistently.</p>
        </div>
        <div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-white font-semibold mb-2">Do you handle posts/photos?</h3>
          <p class="text-slate-300 text-sm">We create the cadence and templates and can operate posts with you under the engagement.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- INTAKE FORM (form-first, Netlify ready) -->
  <section id="intake-section" class="py-16 bg-gradient-to-b from-gray-950 to-gray-900">
    <div class="container mx-auto px-6">
      <div class="text-center mb-12">
        <h2 class="text-3xl lg:text-5xl font-bold mb-6 text-white">
          Tell us about <span class="bg-gradient-to-r from-violet-400 to-fuchsia-400 bg-clip-text text-transparent">your locations</span>
        </h2>
        <p class="text-gray-400 text-lg max-w-2xl mx-auto">
          Short application first. If it’s a fit, we’ll share a calendar link for a strategy call.
        </p>
      </div>

      <div class="max-w-2xl mx-auto">
        <form
          name="intake-local-seo"
          method="POST"
          action="/thank-you"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="bg-gray-900/50 border border-gray-800 backdrop-blur-sm rounded-3xl p-8"
          novalidate
        >
          <input type="hidden" name="form-name" value="intake-local-seo" />
          <p class="hidden"><label>Don’t fill this out if you’re human: <input name="bot-field" /></label></p>
          <input type="text" name="website_url" tabindex="-1" autocomplete="off" class="hidden" aria-hidden="true" />

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-300 mb-2">Name *</label>
              <input id="name" name="name" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="Your full name"/>
              <div class="text-red-400 text-sm mt-1" data-error-for="name" aria-live="polite"></div>
            </div>
            <div>
              <label for="email" class="block text-sm font-medium text-gray-300 mb-2">Email *</label>
              <input id="email" name="email" type="email" required pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="your@email.com"/>
              <div class="text-red-400 text-sm mt-1" data-error-for="email" aria-live="polite"></div>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="company" class="block text-sm font-medium text-gray-300 mb-2">Company *</label>
              <input id="company" name="company" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="Your company name"/>
              <div class="text-red-400 text-sm mt-1" data-error-for="company" aria-live="polite"></div>
            </div>
            <div>
              <label for="website" class="block text-sm font-medium text-gray-300 mb-2">Website (optional)</label>
              <input id="website" name="website" type="url" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors" placeholder="https://yourwebsite.com"/>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
              <label for="locations" class="block text-sm font-medium text-gray-300 mb-2">Locations *</label>
              <select id="locations" name="locations" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors">
                <option value="">Select # of locations</option>
                <option value="1">1 location</option>
                <option value="2-3">2–3 locations</option>
                <option value="4-6">4–6 locations</option>
                <option value="7-plus">7+ locations</option>
              </select>
              <div class="text-red-400 text-sm mt-1" data-error-for="locations" aria-live="polite"></div>
            </div>
            <div>
              <label for="industry" class="block text-sm font-medium text-gray-300 mb-2">Industry *</label>
              <select id="industry" name="industry" required class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors">
                <option value="">Select your industry</option>
                <option value="med-spa">Med-spa</option>
                <option value="dental">Dental</option>
                <option value="hvac">HVAC</option>
                <option value="home-services">Home Services</option>
                <option value="other">Other</option>
              </select>
              <div class="text-red-400 text-sm mt-1" data-error-for="industry" aria-live="polite"></div>
            </div>
          </div>

          <div class="mb-6">
            <label for="goal" class="block text-sm font-medium text-gray-300 mb-2">Main goal *</label>
            <textarea id="goal" name="goal" required rows="3" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:border-violet-500 focus:ring-1 focus:ring-violet-500 transition-colors resize-none" placeholder="What should Local SEO help you achieve in the next 90 days?"></textarea>
            <div class="text-red-400 text-sm mt-1" data-error-for="goal" aria-live="polite"></div>
          </div>

          <div class="mb-8">
            <label class="flex items-start gap-3">
              <input type="checkbox" id="consent" name="consent" required class="mt-1 w-4 h-4 text-violet-600 border-gray-600 rounded focus:ring-violet-500 focus:ring-2 bg-gray-800"/>
              <span class="text-sm text-gray-400 leading-relaxed">
                I agree to be contacted by BrandsBuilders Agency regarding my inquiry and understand I can unsubscribe at any time. *
              </span>
            </label>
            <div class="text-red-400 text-sm mt-1" data-error-for="consent" aria-live="polite"></div>
          </div>

          <button type="submit" class="w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-bold py-4 px-8 rounded-xl hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-violet-500/25 disabled:opacity-50 disabled:cursor-not-allowed">
            Apply — Growth Partner (Local SEO capability)
          </button>

          <!-- Single contact email hint -->
          <p class="text-xs text-slate-500 mt-4">
            Prefer email? Reach us at <a href="mailto:hello@brandsbuilders.agency" class="underline text-violet-300">hello@brandsbuilders.agency</a>.
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- JSON-LD (no public prices, positioned as capability) -->
  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebPage",
          url: `${siteUrl}/services/local-seo`,
          name: "Local SEO & Google Business Profile | BrandsBuilders Agency",
          description: seo.description,
          inLanguage: "en-CA",
          breadcrumb: {
            "@type": "BreadcrumbList",
            itemListElement: [
              { "@type": "ListItem", position: 1, name: "Home", item: siteUrl },
              { "@type": "ListItem", position: 2, name: "Services", item: `${siteUrl}/services` },
              { "@type": "ListItem", position: 3, name: "Local SEO", item: `${siteUrl}/services/local-seo` }
            ]
          },
          isPartOf: { "@type": "WebSite", url: siteUrl }
        },
        {
          "@type": "Service",
          name: "Local SEO & GBP (within Growth Partner)",
          serviceType: "Local search optimization",
          areaServed: [
            { "@type": "AdministrativeArea", name: "Alberta" },
            { "@type": "City", name: "Calgary" },
            { "@type": "City", name: "Edmonton" }
          ],
          offers: {
            "@type": "Offer",
            availability: "https://schema.org/InStock",
            url: `${siteUrl}/services/local-seo`
          },
          provider: { "@type": "Organization", name: "BrandsBuilders Agency", url: siteUrl },
          description: "Delivered only as part of our Growth Partner engagement. No à la carte packages."
        },
        {
          "@type": "FAQPage",
          mainEntity: [
            { "@type": "Question", name: "Is this a standalone service?", acceptedAnswer: { "@type": "Answer", text: "No. Local SEO is delivered inside our Growth Partner model so web, GBP, reviews and analytics move together." } },
            { "@type": "Question", name: "Do you guarantee rankings?", acceptedAnswer: { "@type": "Answer", text: "No one can. We focus on durable inputs (on-page, GBP, reviews, CWV) that improve qualified traffic and conversions." } },
            { "@type": "Question", name: "How fast will I see results?", acceptedAnswer: { "@type": "Answer", text: "Many SMBs see movement in 30–90 days when we can ship changes and collect reviews consistently." } },
            { "@type": "Question", name: "Do you handle posts/photos?", acceptedAnswer: { "@type": "Answer", text: "We create the cadence and templates and can operate posts with you under the engagement." } }
          ]
        }
      ]
    })}
  </script>

  <!-- Minimal inline validation -->
  <script is:inline>
    (function () {
      var form = document.querySelector('form[name="intake-local-seo"]');
      if (!form) return;
      function showError(field, message) {
        var slot = form.querySelector('[data-error-for="' + field.name + '"]');
        if (slot) slot.textContent = message || '';
      }
      var validators = {
        name: el => el.value.trim() ? '' : 'Please enter your name.',
        email: el => !el.value.trim() ? 'Please enter your email.' :
          (/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(el.value) ? '' : 'Enter a valid email address.'),
        company: el => el.value.trim() ? '' : 'Please enter your company name.',
        locations: el => el.value ? '' : 'Please select number of locations.',
        industry: el => el.value ? '' : 'Please select your industry.',
        goal: el => el.value.trim() ? '' : 'Please describe your main goal.',
        consent: el => el.checked ? '' : 'Consent is required.'
      };
      var fields = Array.prototype.slice.call(form.elements).filter(function (el) {
        return ['name','email','company','locations','industry','goal','consent'].includes(el.name);
      });
      fields.forEach(function (el) {
        el.addEventListener('input', function () { showError(el, validators[el.name](el)); });
        el.addEventListener('change', function () { showError(el, validators[el.name](el)); });
      });
      form.addEventListener('submit', function (e) {
        var hasErrors = false;
        fields.forEach(function (el) {
          var msg = validators[el.name](el);
          showError(el, msg);
          if (msg) hasErrors = true;
        });
        if (hasErrors) e.preventDefault();
      });
    })();
  </script>
</Layout>
